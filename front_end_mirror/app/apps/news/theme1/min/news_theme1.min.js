!function(){angular.module("mirrorApp").controller("newsCtrl",["$scope","$http","confService","newsService",function(e,t,s,a){e.newsItems=[],e.newNewsItems=[],e.showedNewsItems=[],e.showAll=!0;var n,p=0,w=0,o=1e3*e.app.Data.Rate,m=function(){e.showedNewsItems=[],e.showedNewsItems=a.getShowNewsItems(w,p,e.newsItems),e.$apply(),w+=p,w>=e.newsItems.length-1&&(w=p,setTimeout(l,1e4))},r=function(t){e.newsItems=t.item,e.showedNewsItems=a.getShowNewsItems(0,p,e.newsItems),e.$apply(),clearInterval(n),n=setInterval(m,o)},I=function(){e.newsItems.length>0&&r(e.newsItems)},l=function(){p=parseInt(e.app.Data.Items),w=p,e.app.Data.URL&&a.getNews(e.app.Data.URL,r,I)};e.update.func=function(t){var s=JSON.parse(t.Data);t.Data!==JSON.stringify(e.app.Data)&&(e.app.Data=s,o=1e3*e.app.Data.Rate,clearInterval(n),l())},l()}])}();